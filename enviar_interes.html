<?php
si ($_SERVER['MTODO_DE_SECUENCIA'] === 'POST') {
requiere 'conexion.php';

$anuncio = htmlspecialchars($_POST['anuncio'] ?? '');
$nombre = htmlspecialchars($_POST['nombre'] ?? '');
$correo electr贸nico = htmlspecialchars($_POST['correo electr贸nico'] ?? '');
$mensaje = htmlspecialchars($_POST['mensaje'] ?? '');

intentar {
$stmt = $pdo->prepare("INSERT INTO mensajes_interes (anuncio, nombre, email, mensaje) VALUES (?, ?, ?, ?)");
$stmt->execute([$anuncio, $nombre, $email, $mensaje]);

// Mostrar p谩gina de 茅xito
?>
<!DOCTYPE html>
<html lang="es">
<cabeza>
<meta charset="UTF-8">
<title>Inter茅s registrado</title>
<estilo>
cuerpo {
margen: 0;
relleno: 0;
familia de fuentes: 'Segoe UI', sans-serif;
fondo: gradiente lineal (abajo a la derecha, #6b73ff, #000dff);
pantalla: flex;
alinear-elementos: centro;
justificar-contenido: centro;
altura: 100vh;
}

.tarjeta {
fondo: #fff;
relleno: 40px;
radio del borde: 12px;
caja-sombra: 0 10px 25px rgba(0,0,0,0.1);
alinear texto: centro;
}

h2 {
color: #4b3ecf;
margen inferior: 30px;
}

.bot贸n {
pantalla: bloque;
ancho: 200px;
margen: 10px autom谩tico;
relleno: 12px 20px;
fondo: gradiente lineal (a la derecha, #7b52ff, #3f79ff);
color: #fff;
peso de fuente: negrita;
borde: ninguno;
radio del borde: 30px;
decoraci贸n de texto: ninguna;
caja-sombra: 0 6px 15px rgba(0, 0, 0, 0.2);
transici贸n: transformaci贸n 0,2 s, caja-sombra 0,2 s;
}

.bot贸n:hover {
transformar: translateY(-2px);
caja-sombra: 0 8px 20px rgba(0, 0, 0, 0.3);
}

.emoji {
margen derecho: 6px;
}
</estilo>
</cabeza>
<cuerpo>
<div class="tarjeta">
<h2>隆Tu inter茅s ha sido enviado con 茅xito! </h2>
<a class="boton" href="explorar_anuncios.php"><span class="emoji"></span> Ver m谩s anuncios</a>
<a class="boton" href="inicio.php"><span class="emoji"></span> Volver al inicio</a>
</div>
</cuerpo>
</html>
<?php

} captura (PDOException $e) {
c贸digo_de_respuesta_http(500);
echo "Error al guardar: ". $e->getMessage();
}
} dem谩s {
http_response_code(405); // M茅todo no permitido
}
?>